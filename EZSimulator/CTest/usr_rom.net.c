#include <stdio.h>
#include "utils.c"

int main() {
	char _screenW = readByte();
	char _screenH = readByte();
	char* _rom = readRom();
	int _addr, _pow;
	char _l_23_184 = 0;
	char _l_23_194 = 0;
	char _l_23_204 = 0;
	char _l_23_214 = 0;
	char _l_23_224 = 0;
	char _l_23_234 = 0;
	char _l_23_244 = 0;
	char _l_23_254 = 0;
	char _l_25_183 = 0;
	char _l_25_193 = 0;
	char _l_25_203 = 0;
	char _l_25_213 = 0;
	char _l_25_223 = 0;
	char _l_25_233 = 0;
	char _l_25_243 = 0;
	char _l_25_253 = 0;
	char _l_26_182 = 0;
	char _l_26_192 = 0;
	char _l_26_202 = 0;
	char _l_26_212 = 0;
	char _l_26_222 = 0;
	char _l_26_232 = 0;
	char _l_26_242 = 0;
	char _l_26_252 = 0;
	char _l_27_181 = 0;
	char _l_27_191 = 0;
	char _l_27_201 = 0;
	char _l_27_211 = 0;
	char _l_27_221 = 0;
	char _l_27_231 = 0;
	char _l_27_241 = 0;
	char _l_27_251 = 0;
	char _l_29_100[4] = {0};
	char _l_29_114[3] = {0};
	char _l_29_128[2] = {0};
	char _l_29_142[1] = {0};
	char _l_29_58[7] = {0};
	char _l_29_72[6] = {0};
	char _l_29_86[5] = {0};
	char _l_30_113[3] = {0};
	char _l_30_127[2] = {0};
	char _l_30_141[1] = {0};
	char _l_30_57[7] = {0};
	char _l_30_71[6] = {0};
	char _l_30_85[5] = {0};
	char _l_30_99[4] = {0};
	char _l_32_112 = 0;
	char _l_32_126 = 0;
	char _l_32_140 = 0;
	char _l_32_154 = 0;
	char _l_32_56 = 0;
	char _l_32_70 = 0;
	char _l_32_84 = 0;
	char _l_32_98 = 0;
	char _l_33_111 = 0;
	char _l_33_125 = 0;
	char _l_33_139 = 0;
	char _l_33_153 = 0;
	char _l_33_55 = 0;
	char _l_33_69 = 0;
	char _l_33_83 = 0;
	char _l_33_97 = 0;
	char _l_37_264 = 0;
	char _l_37_273 = 0;
	char _l_37_282 = 0;
	char _l_37_291 = 0;
	char _l_37_300 = 0;
	char _l_37_309 = 0;
	char _l_37_318 = 0;
	char _l_37_327 = 0;
	char _l_38_263 = 0;
	char _l_38_272 = 0;
	char _l_38_281 = 0;
	char _l_38_290 = 0;
	char _l_38_299 = 0;
	char _l_38_308 = 0;
	char _l_38_317 = 0;
	char _l_38_326 = 0;
	char _l_39_262[7] = {0};
	char _l_39_271[6] = {0};
	char _l_39_280[5] = {0};
	char _l_39_289[4] = {0};
	char _l_39_298[3] = {0};
	char _l_39_307[2] = {0};
	char _l_39_316[1] = {0};
	char _l_40_261[7] = {0};
	char _l_40_270[6] = {0};
	char _l_40_279[5] = {0};
	char _l_40_288[4] = {0};
	char _l_40_297[3] = {0};
	char _l_40_306[2] = {0};
	char _l_40_315[1] = {0};
	char _l_42[2] = {0};
	char _l_43[3] = {0};
	char _l_44[4] = {0};
	char _l_45[5] = {0};
	char _l_46[6] = {0};
	char _l_47[7] = {0};
	char _l_48[8] = {0};
	char _l_49[8] = {0};
	char a[8] = {0};
	char c[8] = {0};
	char c_n1_102 = 0;
	char c_n1_116 = 0;
	char c_n1_130 = 0;
	char c_n1_144 = 0;
	char c_n1_158 = 0;
	char c_n1_60 = 0;
	char c_n1_74 = 0;
	char c_n1_88 = 0;
	char ct[8] = {0};
	char s_n1_103[4] = {0};
	char s_n1_117[3] = {0};
	char s_n1_131[2] = {0};
	char s_n1_145[1] = {0};
	char s_n1_61[7] = {0};
	char s_n1_75[6] = {0};
	char s_n1_89[5] = {0};
	char s_n_101 = 0;
	char s_n_115 = 0;
	char s_n_129 = 0;
	char s_n_143 = 0;
	char s_n_157 = 0;
	char s_n_59 = 0;
	char s_n_73 = 0;
	char s_n_87 = 0;
	char trash_53 = 0;
	char _ram[2048] = {0};

	while(1) {
		_l_40_315[0] = _l_38_326;
		for(int i = 0; i < 1; i++)
			_l_40_306[i] = _l_38_317;
		for(int i = 0; i < 1; i++)
			_l_40_306[i+1] = _l_40_315[i];
		for(int i = 0; i < 1; i++)
			_l_40_297[i] = _l_38_308;
		for(int i = 0; i < 2; i++)
			_l_40_297[i+1] = _l_40_306[i];
		for(int i = 0; i < 1; i++)
			_l_40_288[i] = _l_38_299;
		for(int i = 0; i < 3; i++)
			_l_40_288[i+1] = _l_40_297[i];
		for(int i = 0; i < 1; i++)
			_l_40_279[i] = _l_38_290;
		for(int i = 0; i < 4; i++)
			_l_40_279[i+1] = _l_40_288[i];
		for(int i = 0; i < 1; i++)
			_l_40_270[i] = _l_38_281;
		for(int i = 0; i < 5; i++)
			_l_40_270[i+1] = _l_40_279[i];
		for(int i = 0; i < 1; i++)
			_l_40_261[i] = _l_38_272;
		for(int i = 0; i < 6; i++)
			_l_40_261[i+1] = _l_40_270[i];
		for(int i = 0; i < 1; i++)
			ct[i] = _l_38_263;
		for(int i = 0; i < 7; i++)
			ct[i+1] = _l_40_261[i];
		_addr = 0; _pow = 1;
		for(int i = 8-1; i >=0; i--){
			_addr += _pow * ct[i];
			_pow *= 2;
		}
		for(int i = 0; i < 8; i++) a[i] = _ram[_addr*8 + i];
		_addr = 0; _pow = 1;
		for(int i = 8-1; i >=0; i--){
			_addr += _pow * ct[i];
			_pow *= 2;
		}
		rom(c, _rom, 8, _addr);
		for(int i = 1; i <= 7; i ++) _l_30_57[i-1] = ct[i];
		for(int i = 1; i <= 6; i ++) _l_30_71[i-1] = _l_30_57[i];
		for(int i = 1; i <= 5; i ++) _l_30_85[i-1] = _l_30_71[i];
		for(int i = 1; i <= 4; i ++) _l_30_99[i-1] = _l_30_85[i];
		for(int i = 1; i <= 3; i ++) _l_30_113[i-1] = _l_30_99[i];
		for(int i = 1; i <= 2; i ++) _l_30_127[i-1] = _l_30_113[i];
		for(int i = 1; i <= 1; i ++) _l_30_141[i-1] = _l_30_127[i];
		_l_33_153 = _l_30_141[0];
		_l_33_139 = _l_30_127[0];
		_l_33_125 = _l_30_113[0];
		_l_33_111 = _l_30_99[0];
		_l_33_97 = _l_30_85[0];
		_l_33_83 = _l_30_71[0];
		_l_33_69 = _l_30_57[0];
		_l_33_55 = ct[0];
		for(int i = 0; i < 1; i++)
			_l_42[i] = 0;
		for(int i = 0; i < 1; i++)
			_l_42[i+1] = 0;
		for(int i = 0; i < 2; i++)
			_l_43[i] = _l_42[i];
		for(int i = 0; i < 1; i++)
			_l_43[i+2] = 0;
		for(int i = 0; i < 3; i++)
			_l_44[i] = _l_43[i];
		for(int i = 0; i < 1; i++)
			_l_44[i+3] = 0;
		for(int i = 0; i < 4; i++)
			_l_45[i] = _l_44[i];
		for(int i = 0; i < 1; i++)
			_l_45[i+4] = 0;
		for(int i = 0; i < 5; i++)
			_l_46[i] = _l_45[i];
		for(int i = 0; i < 1; i++)
			_l_46[i+5] = 0;
		for(int i = 0; i < 6; i++)
			_l_47[i] = _l_46[i];
		for(int i = 0; i < 1; i++)
			_l_47[i+6] = 0;
		for(int i = 0; i < 7; i++)
			_l_48[i] = _l_47[i];
		for(int i = 0; i < 1; i++)
			_l_48[i+7] = 1;
		for(int i = 1; i <= 7; i ++) _l_29_58[i-1] = _l_48[i];
		for(int i = 1; i <= 6; i ++) _l_29_72[i-1] = _l_29_58[i];
		for(int i = 1; i <= 5; i ++) _l_29_86[i-1] = _l_29_72[i];
		for(int i = 1; i <= 4; i ++) _l_29_100[i-1] = _l_29_86[i];
		for(int i = 1; i <= 3; i ++) _l_29_114[i-1] = _l_29_100[i];
		for(int i = 1; i <= 2; i ++) _l_29_128[i-1] = _l_29_114[i];
		for(int i = 1; i <= 1; i ++) _l_29_142[i-1] = _l_29_128[i];
		_l_32_154 = _l_29_142[0];
		_l_23_184 = _l_32_154 ^ _l_33_153;
		_l_25_183 = _l_32_154 & _l_33_153;
		_l_26_182 = _l_32_154 ^ _l_33_153;
		_l_32_140 = _l_29_128[0];
		_l_23_194 = _l_32_140 ^ _l_33_139;
		_l_25_193 = _l_32_140 & _l_33_139;
		_l_26_192 = _l_32_140 ^ _l_33_139;
		_l_32_126 = _l_29_114[0];
		_l_23_204 = _l_32_126 ^ _l_33_125;
		_l_25_203 = _l_32_126 & _l_33_125;
		_l_26_202 = _l_32_126 ^ _l_33_125;
		_l_32_112 = _l_29_100[0];
		_l_23_214 = _l_32_112 ^ _l_33_111;
		_l_25_213 = _l_32_112 & _l_33_111;
		_l_26_212 = _l_32_112 ^ _l_33_111;
		_l_32_98 = _l_29_86[0];
		_l_23_224 = _l_32_98 ^ _l_33_97;
		_l_25_223 = _l_32_98 & _l_33_97;
		_l_26_222 = _l_32_98 ^ _l_33_97;
		_l_32_84 = _l_29_72[0];
		_l_23_234 = _l_32_84 ^ _l_33_83;
		_l_25_233 = _l_32_84 & _l_33_83;
		_l_26_232 = _l_32_84 ^ _l_33_83;
		_l_32_70 = _l_29_58[0];
		_l_23_244 = _l_32_70 ^ _l_33_69;
		_l_25_243 = _l_32_70 & _l_33_69;
		_l_26_242 = _l_32_70 ^ _l_33_69;
		_l_32_56 = _l_48[0];
		_l_23_254 = _l_32_56 ^ _l_33_55;
		_l_25_253 = _l_32_56 & _l_33_55;
		_l_26_252 = _l_32_56 ^ _l_33_55;
		c_n1_158 = 0;
		s_n_157 = _l_23_184 ^ c_n1_158;
		s_n1_145[0] = s_n_157;
		_l_27_181 = _l_26_182 & c_n1_158;
		c_n1_144 = _l_25_183 | _l_27_181;
		s_n_143 = _l_23_194 ^ c_n1_144;
		for(int i = 0; i < 1; i++)
			s_n1_131[i] = s_n_143;
		for(int i = 0; i < 1; i++)
			s_n1_131[i+1] = s_n1_145[i];
		_l_27_191 = _l_26_192 & c_n1_144;
		c_n1_130 = _l_25_193 | _l_27_191;
		s_n_129 = _l_23_204 ^ c_n1_130;
		for(int i = 0; i < 1; i++)
			s_n1_117[i] = s_n_129;
		for(int i = 0; i < 2; i++)
			s_n1_117[i+1] = s_n1_131[i];
		_l_27_201 = _l_26_202 & c_n1_130;
		c_n1_116 = _l_25_203 | _l_27_201;
		s_n_115 = _l_23_214 ^ c_n1_116;
		for(int i = 0; i < 1; i++)
			s_n1_103[i] = s_n_115;
		for(int i = 0; i < 3; i++)
			s_n1_103[i+1] = s_n1_117[i];
		_l_27_211 = _l_26_212 & c_n1_116;
		c_n1_102 = _l_25_213 | _l_27_211;
		s_n_101 = _l_23_224 ^ c_n1_102;
		for(int i = 0; i < 1; i++)
			s_n1_89[i] = s_n_101;
		for(int i = 0; i < 4; i++)
			s_n1_89[i+1] = s_n1_103[i];
		_l_27_221 = _l_26_222 & c_n1_102;
		c_n1_88 = _l_25_223 | _l_27_221;
		s_n_87 = _l_23_234 ^ c_n1_88;
		for(int i = 0; i < 1; i++)
			s_n1_75[i] = s_n_87;
		for(int i = 0; i < 5; i++)
			s_n1_75[i+1] = s_n1_89[i];
		_l_27_231 = _l_26_232 & c_n1_88;
		c_n1_74 = _l_25_233 | _l_27_231;
		s_n_73 = _l_23_244 ^ c_n1_74;
		for(int i = 0; i < 1; i++)
			s_n1_61[i] = s_n_73;
		for(int i = 0; i < 6; i++)
			s_n1_61[i+1] = s_n1_75[i];
		_l_27_241 = _l_26_242 & c_n1_74;
		c_n1_60 = _l_25_243 | _l_27_241;
		s_n_59 = _l_23_254 ^ c_n1_60;
		for(int i = 0; i < 1; i++)
			_l_49[i] = s_n_59;
		for(int i = 0; i < 7; i++)
			_l_49[i+1] = s_n1_61[i];
		_l_37_264 = _l_49[0];
		_l_38_263 = _l_37_264;
		for(int i = 1; i <= 7; i ++) _l_39_262[i-1] = _l_49[i];
		_l_37_273 = _l_39_262[0];
		_l_38_272 = _l_37_273;
		for(int i = 1; i <= 6; i ++) _l_39_271[i-1] = _l_39_262[i];
		_l_37_282 = _l_39_271[0];
		_l_38_281 = _l_37_282;
		for(int i = 1; i <= 5; i ++) _l_39_280[i-1] = _l_39_271[i];
		_l_37_291 = _l_39_280[0];
		_l_38_290 = _l_37_291;
		for(int i = 1; i <= 4; i ++) _l_39_289[i-1] = _l_39_280[i];
		_l_37_300 = _l_39_289[0];
		_l_38_299 = _l_37_300;
		for(int i = 1; i <= 3; i ++) _l_39_298[i-1] = _l_39_289[i];
		_l_37_309 = _l_39_298[0];
		_l_38_308 = _l_37_309;
		for(int i = 1; i <= 2; i ++) _l_39_307[i-1] = _l_39_298[i];
		_l_37_318 = _l_39_307[0];
		_l_38_317 = _l_37_318;
		for(int i = 1; i <= 1; i ++) _l_39_316[i-1] = _l_39_307[i];
		_l_37_327 = _l_39_316[0];
		_l_38_326 = _l_37_327;
		_l_27_251 = _l_26_252 & c_n1_60;
		trash_53 = _l_25_253 | _l_27_251;
		_addr = 0; _pow = 1;
		for(int i = 8-1; i >=0; i--){
			_addr += _pow * ct[i];
			_pow *= 2;
		}
		fprintf(stdout, "addr = %d\n", _addr);
		for(int i = 0; i < 8; i++) _ram[_addr*8 + i] = c[i];
		if(_addr >= 3 && _addr < _screenW*_screenH+3) writeChar((_addr-3)%_screenW, (_addr-3)/_screenW, toInt(c, 8));
		if(_addr == _screenW*_screenH+3) writeRedraw();
		if(_addr == _screenW*_screenH+4) { writeExit(); break; }
	}
}